<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>IoT Stack Installation On Ubuntu - Note-taking as a Website</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href="..">Note-taking as a Website</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Article <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">IoTStack</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="./" class="dropdown-item active">IoT Stack Installation On Ubuntu</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">5G</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../art_002/" class="dropdown-item"></a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Project <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">SubProj</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../proj_001_IoTStack/" class="dropdown-item">Project #1</a>
</li>
    </ul>
  </li>
                                    
<li>
    <a href="../proj_002/" class="dropdown-item">Project #2</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../about/" class="nav-link">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href=".." class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../art_002/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#how-to-install-iotstack-on-ubuntu-and-monitor-all-containers-with-portainerio" class="nav-link">How to install IOTStack on Ubuntu and monitor all containers with Portainer.io</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#monitoring-all-built-container-with-portainerio" class="nav-link">Monitoring all built container with portainer.io</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="how-to-install-iotstack-on-ubuntu-and-monitor-all-containers-with-portainerio">How to install IOTStack on Ubuntu and monitor all containers with Portainer.io</h1>
<blockquote>
<p><em>"Hackers rarely have full knowledge of the technology stack of a target." - John McAfee</em></p>
</blockquote>
<p>Written by <strong>Henry Le</strong> on Oct 29, 2021</p>
<p>As I recently start projects on the term and found that open-source community already built a very completed stack that can do almost everything one can imagine to do with IoT. So this article I would like to share how can IoTStack be installed on Ubuntu. I tested the process on both Google Cloud Platform and my local server, so I believe that this instruction works just fine with anyone else have interests in start to have fun with IOTStack.</p>
<p>If you already have a RPI4 with you, the <a href="https://sensorsiot.github.io/IOTstack/Getting-Started/">instruction</a> of Andreas Spiess is a must-read.</p>
<p>Firstly, making sure you already have everything packages updated and upgrades with:</p>
<pre><code>sudo apt update
sudo apt upgrade -y
</code></pre>
<p>And also <em>curl</em> if you are not sure that the package is already installed  </p>
<pre><code>sudo apt install curl
</code></pre>
<p>After having curl on your system, run the following command.</p>
<pre><code>curl -fsSL https://raw.githubusercontent.com/SensorsIot/IOTstack/master/install.sh | bash
</code></pre>
<p>As default, a directory call /IOTStack will be created as your /home directory<br />
<img alt="Placeholder" src="/img/IoTStack/cd IOTStack.png" width="600" /></p>
<p>As you may see, there are two script file, install.sh and menu.sh. install.sh indeed the script file we curl from the link above. By invokinng install.sh, another directory of IOTStack will then created and the content will be cloned just as the same as the parent folder we see here.</p>
<p>Now, its time to see what we have in menu</p>
<pre><code>cd ~
cd /IOTStack
./menu.sh
</code></pre>
<p><img alt="Placeholder" src="/img/IoTStack/menu.png" width="500" /></p>
<p>Using your arrow keys to navigate around the menu, Build Stack is the first place we need to visit</p>
<p>If you install IOTStack on a completely clean OS, without even docker installed, IOTStack will help you install the needed docker version.</p>
<p><img alt="Placeholder" src="/img/IoTStack/Screenshot 2021-10-27_162608.png" width="600" /></p>
<p>If everything is running properly, a menu will be shown<br />
<img alt="Placeholder" src="/img/IoTStack/menushown.png" width="600" /></p>
<p>Navigating aroung by arrow keys and choosing the docker images aby typing space bar. In my case, I choose <strong>grafana, influxdb, mosquitto, nodered, portainer-ce, portainer-agent, postgres, tasmoadmin and wiraguard</strong>. </p>
<p>At this point, you finished choosing your <em>stack</em>, assuming this is the first time you install IOTStack, there are no images or containers running in you system yet. The next step is making eveything up and running.  </p>
<p>Choosing the second option in the menu.<br />
<img alt="Placeholder" src="/img/IoTStack/menushown.png" width="600" /></p>
<p>There are several useful options in the <em>Docker Commands</em> menu, in this article I simply choosing <em>Start Stack</em>.
The very first time building IOTStack might take a while because there are no existing images stored in your system yet. So for the first time, images of chosen option from the previous step will be automatically pulling to your system and then make it running.</p>
<p>So far so good, the Stack after built up will look just as below, if there are any error occur, error message will let you know while building up the stack.</p>
<p><img alt="Placeholder" src="/img/IoTStack/builtup.png" width="700" /></p>
<p>To check whether the docker images was pulled to your system, enter the following command  </p>
<pre><code>docker images
</code></pre>
<p>To check the running containers  </p>
<pre><code>docker ps -a
</code></pre>
<h1 id="monitoring-all-built-container-with-portainerio">Monitoring all built container with <a href="https://portainer.io/">portainer.io</a></h1>
<p>If you try <strong>docker ps -a</strong>, by default you will see the container of portainer-ce is running with the IP exposed to outside. The port 9000 by default, is for administrators logging to the management webpage.<br />
<img alt="Placeholder" src="/img/IoTStack/portainerce.png" width="800" /><br />
On your Web Browser (ie. Chrome, Firefox, etc). Enter <a href="https://localhost:9000/"><em>localhost:9000/</em></a>, this will open up the Web GUI of portainer-ce.
<img alt="Placeholder" src="/img/IoTStack/webportainer.png" width="600" /></p>
<p>You will need to secure your admin account's password the first time you logging to the Portainer.<br />
After logging in, the existing images and running containers are all shown up for your monitoring. Portainer provides a various command buttons so that you can easily manipulate the Stack on some levels.<br />
<img alt="Placeholder" src="/img/IoTStack/portainercompleted.png" width="600" /></p>
<p>Basically, there are all the steps you need to operate when dealing with IOTStack for the first time, the result may different from time to time since the project IOTStack is actively updated by its contributors. By using the well prepared docker images of IOTStack, we save a lot of time from dealing with configuration. The heavy-lifting part is done for you so you can have more time spending on your <em>business logic</em> rather hours of configurating without knowing that they can work stably together.  </p>
<p>Thank you for reading my clumsy article, for more real life projects about IOTStack you can refer to this <a href="http://picopiece.com/"><em>Link</em></a>.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
